<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>æŠŠç¼–ç¨‹èå…¥æ´»</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="java|mac|c">
<meta property="og:type" content="website">
<meta property="og:title" content="æŠŠç¼–ç¨‹èå…¥æ´»">
<meta property="og:url" content="http://weirdo-restart.github.io/index.html">
<meta property="og:site_name" content="æŠŠç¼–ç¨‹èå…¥æ´»">
<meta property="og:description" content="java|mac|c">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æŠŠç¼–ç¨‹èå…¥æ´»">
<meta name="twitter:description" content="java|mac|c">
  
    <link rel="alternative" href="/atom.xml" title="æŠŠç¼–ç¨‹èå…¥æ´»" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/photo.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">weirdo</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="http://weirdo-restart.github.io" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/weirdorestart@163.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å¥¥å·´é©¬çš„åšå®¢</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å¡å¡çš„ç¾ä¸½ä¼ è¯´</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">æœ¬æ³½é©¬çš„åšå®¢</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">å‰æ ¼æ–¯çš„åšå®¢</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">ä¹ å¤§å¤§å¤§ä¸åŒ</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">æ‰˜è’‚çš„åšå®¢</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">æˆ‘æ˜¯è°ï¼Œæˆ‘ä»å“ªé‡Œæ¥ï¼Œæˆ‘åˆ°å“ªé‡Œå»ï¼Ÿæˆ‘å°±æ˜¯æˆ‘ï¼Œæ˜¯é¢œè‰²ä¸ä¸€æ ·çš„åƒè´§â€¦</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">weirdo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/img/photo.png" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">weirdo</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://weirdo-restart.github.io" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/weirdorestart@163.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-æˆ‘çš„MACæ¸…å•" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/26/æˆ‘çš„MACæ¸…å•/" class="article-date">
  	<time datetime="2016-06-26T09:41:25.000Z" itemprop="datePublished">2016-06-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/26/æˆ‘çš„MACæ¸…å•/">æˆ‘çš„MACæ¸…å•</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="æˆ‘çš„MACæ¸…å•"><a href="#æˆ‘çš„MACæ¸…å•" class="headerlink" title="æˆ‘çš„MACæ¸…å•"></a>æˆ‘çš„MACæ¸…å•</h3><p>æˆ‘æ˜¯ä¸€åç¨‹åºğŸ©ä½¿ç”¨macå·²ç»æœ‰åŠå¹´äº†ï¼Œä¸ºäº†è®°å½•ä¸€ä¸‹è¿™ä¸ªè‡ªå·±å–œæ¬¢çš„è½¯ä»¶ï¼Œç‰¹æ­¤å†™äº†è¿™ç¯‡åšå®¢ï¼Œæ–¹ä¾¿è‡ªå·±ä»¥åè®°å¾—è£…äº†å“ªäº›è½¯ä»¶</p>
<p>å¸¸ç”¨æŒ‡æ•°è¯´æ˜</p>
<p>â˜…â˜…â˜…â˜…â˜… ï¼š æ¯æ¬¡å¼€æœºå¿…é¡»è¦è¿è¡Œçš„</p>
<p>â˜…â˜…â˜…â˜… ï¼š éœ€è¦æ—¶è¿è¡Œï¼Œä¸”ä½¿ç”¨é¢‘ç‡å¾ˆå¥½</p>
<p>â˜…â˜…â˜… ï¼š éœ€è¦æ—¶æ‰ä¼šè¿è¡Œ</p>
<p>â˜…â˜… ï¼š åŸºæœ¬å¾ˆå°‘æ‰“å¼€ï¼Œä½†æ˜¯è¿˜ä¸ä¼šåˆ°å¸è½½çš„åœ°æ­¥</p>
<p>å¼€å‘ç›¸å…³</p>
<table>
<thead>
<tr>
<th>å¸¸ç”¨æŒ‡æ•°</th>
<th>åç§°</th>
<th style="text-align:center">ç®€ä»‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>iTerm + ohmyzsh</td>
<td style="text-align:center">å†å¥½ç”¨ä¸è¿‡çš„ç»ˆç«¯</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Sublime Text</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>IntelliJ IDEA</td>
<td style="text-align:center">æœ€çˆ±javaçš„IDE</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Navicat Premium</td>
<td style="text-align:center">æ•°æ®åº“å®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Quiver</td>
<td style="text-align:center">é€‚åˆç¨‹åºå‘˜çš„è®°å½•å·¥å…· </td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>OmniGraffle</td>
<td style="text-align:center">ç”»å›¾å·¥å…· </td>
</tr>
<tr>
<td>â˜…â˜…â˜…</td>
<td>Cornerstone</td>
<td style="text-align:center">svnå·¥å…· </td>
</tr>
<tr>
<td>â˜…â˜…â˜…</td>
<td>CodeRunner</td>
<td style="text-align:center">è®¸å¤šè½¯ä»¶è¿è¡Œç¯å¢ƒç»“åˆçš„å·¥å…·</td>
</tr>
<tr>
<td>â˜…â˜…â˜…</td>
<td>Dash</td>
<td style="text-align:center">å¼€å‘æ–‡æ¡£é€ŸæŸ¥ </td>
</tr>
</tbody>
</table>
<p>æ•ˆç‡ç±»</p>
<table>
<thead>
<tr>
<th>å¸¸ç”¨æŒ‡æ•°</th>
<th>åç§°</th>
<th style="text-align:center">ç®€ä»‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Alfred 2 2.x [SP]</td>
<td style="text-align:center">ä¸è§£é‡Š</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>1Password</td>
<td style="text-align:center">ä¿å­˜å¯†ç </td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Paste</td>
<td style="text-align:center">å‰ªè´´æ¿ç¥å™¨</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Contexts</td>
<td style="text-align:center">åƒwindowsä¸€æ ·åˆ‡æ¢çª—å£</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…</td>
<td>Annotate</td>
<td style="text-align:center">æˆªå±å·¥å…·</td>
</tr>
</tbody>
</table>
<p>å·¥å…·ç±»</p>
<table>
<thead>
<tr>
<th>å¸¸ç”¨æŒ‡æ•°</th>
<th>åç§°</th>
<th style="text-align:center">ç®€ä»‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>moom</td>
<td style="text-align:center">çª—å£å¤§å°æ”¹å˜</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>Bartender</td>
<td style="text-align:center">å³ä¸Šè§’éšèº«å·¥å…·</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>CleanMyMac</td>
<td style="text-align:center">ç³»ç»Ÿç®¡ç†å·¥å…·</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>iThoughtsX</td>
<td style="text-align:center">è„‘å›¾å·¥å…·</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…â˜…</td>
<td>MacDown</td>
<td style="text-align:center">markdownå·¥å…·</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…</td>
<td>Path Finder</td>
<td style="text-align:center">æ–‡ä»¶ç®¡ç†å·¥å…·</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…</td>
<td>Skim</td>
<td style="text-align:center">pdfé˜…è¯»å™¨</td>
</tr>
<tr>
<td>â˜…â˜…â˜…â˜…</td>
<td>WizNote</td>
<td style="text-align:center">ç¨‹åºå‘˜çš„ç¬”è®°è½¯ä»¶</td>
</tr>
</tbody>
</table>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mac/">Mac</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-test" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/14/test/" class="article-date">
  	<time datetime="2016-05-14T13:23:46.000Z" itemprop="datePublished">2016-05-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/14/test/">test</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="who-am-i"><a href="#who-am-i" class="headerlink" title="who am i"></a>who am i</h1><p>hello ereryone! my name is <strong>weirdo</strong>,this is my new start!</p>
<p>I will write some story in there</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/14/æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨/" class="article-date">
  	<time datetime="2016-05-14T13:23:46.000Z" itemprop="datePublished">2016-05-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/14/æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨/">æ·±å…¥æµ…å‡ºMyBatis-Configuration</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨"><a href="#æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨" class="headerlink" title="æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨"></a>æ·±å…¥æµ…å‡ºMyBatis-å¿«é€Ÿå…¥é—¨</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><strong><em>MyBatis</em></strong>çš„å‰èº«å«iBatisï¼Œæœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatisã€‚MyBatisæ˜¯æ”¯æŒæ™®é€šSQLæŸ¥è¯¢ï¼Œå­˜å‚¨è¿‡ç¨‹å’Œé«˜çº§æ˜ å°„çš„ä¼˜ç§€æŒä¹…å±‚æ¡†æ¶ã€‚MyBatisæ¶ˆé™¤äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç å’Œå‚æ•°çš„æ‰‹å·¥è®¾ç½®ä»¥åŠç»“æœé›†çš„æ£€ç´¢ã€‚MyBatisä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOsï¼ˆPlan Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚<br>Mybatisçš„åŠŸèƒ½æ¶æ„åˆ†ä¸ºä¸‰å±‚ï¼ˆå›¾ç‰‡å€Ÿç”¨äº†ç™¾åº¦ç™¾ç§‘ï¼‰ï¼š</p>
<p>1). APIæ¥å£å±‚ï¼šæä¾›ç»™å¤–éƒ¨ä½¿ç”¨çš„æ¥å£APIï¼Œå¼€å‘äººå‘˜é€šè¿‡è¿™äº›æœ¬åœ°APIæ¥æ“çºµæ•°æ®åº“ã€‚æ¥å£å±‚ä¸€æ¥æ”¶åˆ°è°ƒç”¨è¯·æ±‚å°±ä¼šè°ƒç”¨æ•°æ®å¤„ç†å±‚æ¥å®Œæˆå…·ä½“çš„æ•°æ®ã€‚</p>
<p>2).æ•°æ®å¤„ç†å±‚ï¼šè´Ÿè´£å…·ä½“çš„SQLæŸ¥æ‰¾ã€SQLè§£æã€SQLæ‰§è¡Œå’Œæ‰§è¡Œç»“æœæ˜ å°„å¤„ç†ç­‰ã€‚å®ƒä¸»è¦çš„ç›®çš„æ˜¯æ ¹æ®è°ƒç”¨çš„è¯·æ±‚å®Œæˆä¸€æ¬¡æ•°æ®åº“æ“ä½œã€‚</p>
<p>3).åŸºç¡€æ”¯æ’‘å±‚ï¼šè´Ÿè´£æœ€åŸºç¡€çš„åŠŸèƒ½æ”¯æ’‘ï¼ŒåŒ…æ‹¬è¿æ¥ç®¡ç†ã€äº‹åŠ¡ç®¡ç†ã€é…ç½®åŠ è½½å’Œç¼“å­˜å¤„ç†ï¼Œè¿™äº›éƒ½æ˜¯å…±ç”¨çš„ä¸œè¥¿ï¼Œå°†ä»–ä»¬æŠ½å–å‡ºæ¥ä½œä¸ºæœ€åŸºç¡€çš„ç»„ä»¶ã€‚ä¸ºä¸Šå±‚çš„æ•°æ®å¤„ç†å±‚æä¾›æœ€åŸºç¡€çš„æ”¯æ’‘ã€‚</p>
<p><img src="http://o7au51h47.bkt.clouddn.com/mybatis.jpg" alt="MacDown logo"></p>
<h3 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h3><p><img src="http://o7au51h47.bkt.clouddn.com/16-5-17/95838170.jpg" alt="MacDown logo"></p>
<h4 id="SqlSessionFactoryBuilder"><a href="#SqlSessionFactoryBuilder" class="headerlink" title="SqlSessionFactoryBuilder"></a>SqlSessionFactoryBuilder</h4><p>æ¯ä¸€ä¸ªMyBatisçš„åº”ç”¨ç¨‹åºçš„å…¥å£æ˜¯SqlSessionFactoryBuilderï¼Œå®ƒçš„ä½œç”¨æ˜¯é€šè¿‡XMLé…ç½®æ–‡ä»¶åˆ›å»ºConfigurationå¯¹è±¡ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥åœ¨ç¨‹åºä¸­è‡ªè¡Œåˆ›å»ºï¼‰ï¼Œç„¶åé€šè¿‡buildæ–¹æ³•åˆ›å»ºSqlSessionFactoryå¯¹è±¡ã€‚æ²¡æœ‰å¿…è¦æ¯æ¬¡è®¿é—®Mybatiså°±åˆ›å»ºä¸€æ¬¡SqlSessionFactoryBuilderï¼Œé€šå¸¸çš„åšæ³•æ˜¯åˆ›å»ºä¸€ä¸ªå…¨å±€çš„å¯¹è±¡å°±å¯ä»¥äº†ã€‚ç¤ºä¾‹ç¨‹åºå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactoryBuilder sqlSessionFactoryBuilder;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        String resource = <span class="string">"mybatis-config.xml"</span>;</span><br><span class="line">        Reader reader = Resources.getResourceAsReader(resource);</span><br><span class="line">        sqlSessionFactoryBuilder = <span class="keyword">new</span> SqlSessionFactoryBuilder();</span><br><span class="line">        sqlSessionFactory = sqlSessionFactoryBuilder.build(reader);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="SqlSessionFactory"><a href="#SqlSessionFactory" class="headerlink" title="SqlSessionFactory"></a>SqlSessionFactory</h4><p>SqlSessionFactoryå¯¹è±¡ç”±SqlSessionFactoryBuilderåˆ›å»ºã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œå’ŒSqlSessionFactoryBuilderå¯¹è±¡ä¸€æ ·ï¼Œæ²¡æœ‰å¿…è¦æ¯æ¬¡è®¿é—®Mybatiså°±åˆ›å»ºä¸€æ¬¡SqlSessionFactoryï¼Œé€šå¸¸çš„åšæ³•æ˜¯åˆ›å»ºä¸€ä¸ªå…¨å±€çš„å¯¹è±¡å°±å¯ä»¥äº†ã€‚SqlSessionFactoryå¯¹è±¡ä¸€ä¸ªå¿…è¦çš„å±æ€§æ˜¯Configurationå¯¹è±¡,å®ƒæ˜¯ä¿å­˜Mybatiså…¨å±€é…ç½®çš„ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œé€šå¸¸ç”±SqlSessionFactoryBuilderä»XMLé…ç½®æ–‡ä»¶åˆ›å»ºã€‚è¿™é‡Œç»™å‡ºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE configuration PUBLIC </span><br><span class="line">	"-//mybatis.org//DTD Config 3.0//EN"</span><br><span class="line">	"http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- é…ç½®åˆ«å --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">"org.iMybatis.abc.dao.UserDao"</span> <span class="attr">alias</span>=<span class="string">"UserDao"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">"org.iMybatis.abc.dto.UserDto"</span> <span class="attr">alias</span>=<span class="string">"UserDto"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">	 </span><br><span class="line">	<span class="comment">&lt;!-- é…ç½®ç¯å¢ƒå˜é‡ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://127.0.0.1:3306/iMybatis?characterEncoding=GBK"</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"iMybatis"</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"iMybatis"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">&lt;!-- é…ç½®mappers --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">"org/iMybatis/abc/dao/UserDao.xml"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¦æ³¨æ„XMLå¤´éƒ¨çš„å£°æ˜ï¼Œéœ€è¦ç”¨æ¥éªŒè¯XMLæ–‡æ¡£æ­£ç¡®æ€§ã€‚<strong>typeAliases</strong> å…ƒç´ æ˜¯åŒ…å«æ‰€æœ‰<strong>typeAlias</strong>ï¼ˆåˆ«åï¼‰çš„åˆ—è¡¨ï¼Œåˆ«åç”¨æ¥æ›¿æ¢å®Œæ•´ç±»åï¼Œè¿™æ ·åœ¨éœ€è¦å®Œæ•´ç±»åçš„åœ°æ–¹å°±å¯ä»¥ç”¨åˆ«åæ¥ä»£æ›¿ã€‚<strong>environment</strong>å…ƒç´ ä½“ä¸­åŒ…å«å¯¹äº‹åŠ¡ç®¡ç†å’Œè¿æ¥æ± çš„ç¯å¢ƒé…ç½®ã€‚mapperså…ƒç´ æ˜¯åŒ…å«æ‰€æœ‰mapperï¼ˆæ˜ å°„å™¨ï¼‰çš„åˆ—è¡¨ï¼Œè¿™äº›mapperçš„XMLæ–‡ä»¶åŒ…å«SQLä»£ç å’Œæ˜ å°„å®šä¹‰ä¿¡æ¯ã€‚å½“ç„¶ï¼Œåœ¨XMLé…ç½®æ–‡ä»¶ä¸­è¿˜æœ‰å¾ˆå¤šå¯ä»¥é…ç½®çš„ï¼Œä¸Šé¢çš„ç¤ºä¾‹æŒ‡å‡ºçš„åˆ™æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†ï¼Œå…¶ä»–é…ç½®è¯·å‚è€ƒMybatisçš„å®˜æ–¹æ–‡æ¡£ã€‚</p>
<h4 id="SqlSession"><a href="#SqlSession" class="headerlink" title="SqlSession"></a>SqlSession</h4><p>SqlSessionå¯¹è±¡çš„ä¸»è¦åŠŸèƒ½æ˜¯å®Œæˆä¸€æ¬¡æ•°æ®åº“çš„è®¿é—®å’Œç»“æœçš„æ˜ å°„ï¼Œå®ƒç±»ä¼¼äºæ•°æ®åº“çš„sessionæ¦‚å¿µï¼Œç”±äº<code>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</code>ï¼Œæ‰€ä»¥SqlSessionå¯¹è±¡çš„<code>ä½œç”¨åŸŸéœ€é™åˆ¶æ–¹æ³•å†…</code>ã€‚SqlSessionçš„é»˜è®¤å®ç°ç±»æ˜¯<strong>DefaultSqlSession</strong>ï¼Œå®ƒæœ‰ä¸¤ä¸ªå¿…é¡»é…ç½®çš„å±æ€§ï¼š<strong>Configuration</strong>å’Œ<strong>Executor</strong>ã€‚Configurationå‰æ–‡å·²ç»æè¿°è¿™é‡Œä¸å†å¤šè¯´ã€‚<code>SqlSessionå¯¹æ•°æ®åº“çš„æ“ä½œéƒ½æ˜¯é€šè¿‡Executoræ¥å®Œæˆçš„ï¼ŒExecutorçš„å…·ä½“åŠŸèƒ½åœ¨ä¸‹ä¸€å°èŠ‚åœ¨æè¿°</code>ã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„éƒ½æ˜¯mybatisçš„æµç¨‹ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨ä»€ä¹ˆåœ°æ–¹æ’å…¥åˆ°è¿™ä¸ªæµç¨‹ä¸­å¹¶è·å¾—æˆ‘ä»¬æƒ³è¦çš„ç»“æœå‘¢ï¼Ÿå°±æ˜¯SqlSessionè¿™é‡Œã€‚SqlSessionæœ‰ä¸€ä¸ªé‡è¦çš„æ–¹æ³•getMapperï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯ç”¨æ¥è·å–Mapperå¯¹è±¡çš„ã€‚ä»€ä¹ˆæ˜¯Mapperå¯¹è±¡ï¼Ÿæ ¹æ®Mybatisçš„å®˜æ–¹æ‰‹å†Œï¼Œåº”ç”¨ç¨‹åºé™¤äº†è¦åˆå§‹å¹¶å¯åŠ¨Mybatisä¹‹å¤–ï¼Œè¿˜éœ€è¦å®šä¹‰ä¸€äº›æ¥å£ï¼Œæ¥å£é‡Œå®šä¹‰è®¿é—®æ•°æ®åº“çš„æ–¹æ³•ï¼Œå­˜æ”¾æ¥å£çš„åŒ…è·¯å¾„ä¸‹éœ€è¦æ”¾ç½®åŒåçš„XMLé…ç½®æ–‡ä»¶ã€‚SqlSessionçš„getMapperæ–¹æ³•æ˜¯è”ç³»åº”ç”¨ç¨‹åºå’ŒMybatisçº½å¸¦ï¼Œåº”ç”¨ç¨‹åºè®¿é—®getMapperæ—¶ï¼Œ<code>Mybatisä¼šæ ¹æ®ä¼ å…¥çš„æ¥å£ç±»å‹å’Œå¯¹åº”çš„XMLé…ç½®æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡</code>ï¼Œè¿™ä¸ªä»£ç†å¯¹è±¡å°±å«Mapperå¯¹è±¡ã€‚åº”ç”¨ç¨‹åºè·å¾—Mapperå¯¹è±¡åï¼Œå°±åº”è¯¥é€šè¿‡è¿™ä¸ªMapperå¯¹è±¡æ¥è®¿é—®Mybatisçš„SqlSessionå¯¹è±¡ï¼Œè¿™æ ·å°±è¾¾åˆ°æ’å…¥åˆ°Mybatisæµç¨‹çš„ç›®çš„ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SqlSession session= sqlSessionFactory.openSession();</span><br><span class="line">    UserDao userDao = session.getMapper(UserDao.class);</span><br><span class="line">    UserDto user = <span class="keyword">new</span> UserDto();</span><br><span class="line">    user.setUsername(<span class="string">"iMybatis"</span>);</span><br><span class="line">    List&lt;UserDto&gt; users = userDao.queryUsers(user);</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;UserDto&gt; <span class="title">queryUsers</span><span class="params">(UserDto user)</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"org.iMybatis.abc.dao.UserDao"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryUsers"</span> <span class="attr">parameterType</span>=<span class="string">"UserDto"</span><span class="attr">resultType</span>=<span class="string">"UserDto"</span> <span class="attr">useCache</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">	    &lt;![CDATA[select * from t_user t where t.username=#&#123;username&#125;]]&gt;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Executor"><a href="#Executor" class="headerlink" title="Executor"></a>Executor</h4><p>Executorå¯¹è±¡åœ¨åˆ›å»ºConfigurationå¯¹è±¡çš„æ—¶å€™åˆ›å»ºï¼Œå¹¶ä¸”ç¼“å­˜åœ¨Configurationå¯¹è±¡é‡Œã€‚<code>Executorå¯¹è±¡çš„ä¸»è¦åŠŸèƒ½æ˜¯è°ƒç”¨StatementHandlerè®¿é—®æ•°æ®åº“</code>ï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœå­˜å…¥ç¼“å­˜ä¸­ï¼ˆå¦‚æœé…ç½®äº†ç¼“å­˜çš„è¯ï¼‰ã€‚</p>
<h4 id="StatementHandler"><a href="#StatementHandler" class="headerlink" title="StatementHandler"></a>StatementHandler</h4><p><code>StatementHandler</code>æ˜¯çœŸæ­£<code>è®¿é—®æ•°æ®åº“</code>çš„åœ°æ–¹ï¼Œå¹¶è°ƒç”¨<code>ResultSetHandlerå¤„ç†æŸ¥è¯¢ç»“æœ</code>ã€‚</p>
<h4 id="ResultSetHandler"><a href="#ResultSetHandler" class="headerlink" title="ResultSetHandler"></a>ResultSetHandler</h4><p>å¤„ç†æŸ¥è¯¢ç»“æœã€‚</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mybatis/">mybatis</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/13/hello-world/" class="article-date">
  	<time datetime="2016-05-13T14:55:39.000Z" itemprop="datePublished">2016-05-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/13/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 weirdo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>